const{botGuild}=require('../config.json');const{createEmbed}=require('../functions');const{blue,red}=require('../colors.json');const{query}=require('../dbfunctions');module.exports={name:"user",description:"get a users info with the users id",args:true,minArgs:1,maxArgs:1,usage:"<user id>",cooldown:0,userType:"staff",neededPerms:[],pponly:false,async execute(message,args,client){let embedMsg = createEmbed(blue,`**${this.name}**`,null,{name:message.author.username,icon:message.author.displayAvatarURL()},null,null,[],null,true,{text:client.user.username,icon:client.user.displayAvatarURL()});if(isNaN(args[0]) || args[0].length != 18){embedMsg.setColor(red).setDescription(`${args[0]} is not a user id`);sendEmbed(embedMsg,message);}const userId=args[0];const guild=client.guilds.cache.get(botGuild);const member=guild.members.cache.get(args[0]);const result=await query("SELECT * FROM user WHERE userId = ?",[userId]);if(!result.length || !member){embedMsg.setColor(red).setDescription(`This user is not in pixel pizza`);sendEmbed(embedMsg,message);}const user=result[0];embedMsg.addFields({name:"Nickname",value:member.displayName},{name:"Exp",value:user.exp},{name:"Level",value:user.level},{name:"Balance",value:user.balance});if (!client.canSendEmbeds){embedMsg=`Nickname\n\`${member.displayName}\`\nExp\n\`${user.exp}\`\nLevel\n\`${user.level}\`\nBalance\n\`${user.balance}\``;}message.channel.send(embedMsg);}}